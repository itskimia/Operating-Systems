<!DOCTYPE html>
<!-- saved from url=(0059)https://quera.ir/course/assignments/11508/submissions/final -->
<html lang="fa" class=" "><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Quera</title>
    <meta name="description" content="از آموزش و تمرین برنامه‌نویسی تا رقابت و استخدام در بهترین شرکت‌ها! در Quera، بزرگترین جامعه‌ی توسعه‌دهندگان ایرانی">

    
    <meta name="fontiran.com:license" content="LCTB2">
    
        <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta property="og:site_name" content="Quera">
    
        <meta property="og:title" content="Quera">
        <meta property="og:type" content="website">
        <meta property="og:image" content="https://cdn.quera.ir/images/logo/logo-q.0-191a914662ba.png">
        
    
    
        
        <link rel="apple-touch-icon" sizes="180x180" href="https://cdn.quera.ir/images/logo/favicon/apple-touch-icon.0-2887f2aad086.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://cdn.quera.ir/images/logo/favicon/favicon-32x32.0-b5be5ba884c5.png">
        <link rel="icon" type="image/png" sizes="16x16" href="https://cdn.quera.ir/images/logo/favicon/favicon-16x16.0-4bcbe4f363d7.png">
        <link rel="manifest" href="https://cdn.quera.ir/images/logo/favicon/site.0-33c8842c5788.webmanifest">
        <link rel="mask-icon" href="https://cdn.quera.ir/images/logo/favicon/safari-pinned-tab.0-c497e3a2ff0f.svg" color="#5bbad5">
        <link rel="shortcut icon" href="https://cdn.quera.ir/images/logo/favicon/favicon.0-53ba381ba55d.ico">
        <meta name="apple-mobile-web-app-title" content="Quera">
        <meta name="application-name" content="Quera">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="msapplication-config" content="https://cdn.quera.ir/images/logo/favicon/browserconfig.0-c43b73750d5f.xml">
        <meta name="theme-color" content="#09c">
    
    



<script type="text/javascript" async="" src="./UNIX_shell_files/analytics.js.download"></script><script type="text/javascript" async="" src="./UNIX_shell_files/js"></script><script id="ua-script-yn-3147-adv" data-analyticsobject="yektanet" async="" type="text/javascript" src="./UNIX_shell_files/rg.complete.js.download"></script><script type="text/javascript" async="" src="./UNIX_shell_files/analytics.js.download"></script><script async="" type="text/javascript" src="./UNIX_shell_files/rg.complete.js(1).download"></script><script async="" src="./UNIX_shell_files/gtm.js.download"></script><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-TDRQP6V');</script>


<meta name="yn-tag" id="c149392b-0daa-4fd2-afcc-7c0377328aec">
<script>
    !function (t, e, n) {
            t.yektanetAnalyticsObject = n, t[n] = t[n] || function () {
                t[n].q.push(arguments)
            }, t[n].q = t[n].q || [];
            var a = new Date, r = a.getFullYear().toString() + "0" + a.getMonth() + "0" + a.getDate() + "0" + a.getHours(),
                c = e.getElementsByTagName("script")[0], s = e.createElement("script");
            s.async = 1, s.type = "text/javascript", s.src = "https://cdn.yektanet.com/rg_woebegone/scripts/2382/rg.complete.js?v=" + r, c.parentNode.insertBefore(s, c)
    }(window, document, "yektanet");
</script>



    <script type="text/javascript" src="./UNIX_shell_files/reverse.0-5db16f2b978f.js.download"></script>
    <link rel="stylesheet" href="./UNIX_shell_files/jquery-ui.min.0-e43e763e0745.css">
    <script type="text/javascript" src="./UNIX_shell_files/common.min.0-ff5d1031dabd.js.download"></script>
    <link rel="stylesheet" type="text/css" href="./UNIX_shell_files/common.min.0-c21277d78369.css">
    <link rel="stylesheet" type="text/css" href="./UNIX_shell_files/semantic.rtl.min.0-ddac7104c4c3.css">
    <link rel="stylesheet" type="text/css" href="./UNIX_shell_files/style.0-15f8beeb732c.css">
    <link rel="stylesheet" type="text/css" href="./UNIX_shell_files/style.0-e61ebe12747e.css">
    <link rel="preload" href="https://cdn.quera.ir/fonts/iransans/woff2/IRANSansWeb.0-c6f46673e244.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="preload" href="https://cdn.quera.ir/fonts/iransans/woff2/IRANSansWeb_Bold.0-6ec03a37e370.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="preload" href="https://cdn.quera.ir/fonts/iransans/woff2/IRANSansWeb_Light.0-414e7148a634.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="preload" href="https://cdn.quera.ir/fonts/iransans/woff2/IRANSansWeb_Medium.0-bb6a9fe5edb6.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="preload" href="https://cdn.quera.ir/vendor/semantic/themes/default/assets/fonts/icons.0-0ab54153eeec.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="preload" href="https://cdn.quera.ir/vendor/semantic/themes/default/assets/fonts/brand-icons.0-e8c322de9658.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <script type="text/javascript" src="./UNIX_shell_files/main.0-d0c6a0e4f8c7.js.download"></script>
    <script src="./UNIX_shell_files/clipboard.min.0-f06c52bfddb4.js.download" type="text/javascript"></script>
    <script src="./UNIX_shell_files/prism.min.0-683a0944f523.js.download" data-manual=""></script>
    <link rel="stylesheet" type="text/css" href="./UNIX_shell_files/prism.0-4fa8005e6de1.css">
    <script src="./UNIX_shell_files/notify.0-adeb6bd4d98d.js.download" type="text/javascript"></script>
    <script src="./UNIX_shell_files/vendor.0-d4b45e17ce79.js.download" type="text/javascript"></script>
    <link rel="stylesheet" href="./UNIX_shell_files/katex.min.0-f624f07ae925.css">
    
    
    <script type="text/javascript" src="./UNIX_shell_files/qtimer.0-2840874d2a2b.js.download"></script><style type="text/css">div.style__time_block___1T0mR{line-height:1;display:inline-block;text-align:center;padding:0 .3em}span.style__countdown_num___26IHd{font-size:1em}span.style__time_label___1qGrh{font-size:calc(5px + .35em)}</style>
    <style>
        
            #qu-scroll {
                min-width: 1024px;
            }
            body {
                overflow-x: auto !important;
            }
            #body_container {
                display: flex;
            }
            #a-container {
                width: calc(100% - 250px);
                padding: 2em;
                background-color: #eee;
            }
        
    </style>
    

    <script type="text/javascript" src="./UNIX_shell_files/quera_submissions.0-05820c6ba8de.js.download"></script>
    <script src="./UNIX_shell_files/api.min.0-4bdb7d46facf.js.download" type="text/javascript"></script>
    <script>
        var filter_paos_api_url = quera_urls['assignment:get_assignment_users'](11508);
    </script>

</head>

<body dir="rtl" style="height: 7036px;" class="dimmable dimmed scrolling">

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TDRQP6V"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


    

<div class="pusher" id="qu-scroll">
    
    
        
        
    
<div id="top_bar" class="ui   borderless menu top-bar" style="">
    <div class="ui 
    
        fluid
    
 container">
        
            <a href="https://quera.ir/" class="item" id="quera_logo">
                <img class="logo" id="logo" src="./UNIX_shell_files/logo-q.0-3aee17faf53e.svg" alt="Quera">
            </a>
        

        
    <div class="ui secondary menu hide-in-mobile" id="menu-right">
        <a class=" item" href="https://quera.ir/overview/">
            <i class="university icon"></i> کلاس‌ها
        </a>
        <a class=" item" href="https://quera.ir/problemset/contest">
            <i class="code icon"></i> سؤالات
        </a>
        <a class=" item" href="https://quera.ir/contest/">
            <i class="coffee icon"></i> مسابقات
        </a>
        
        
        
        
        <a style="color: #00b5ad" class=" item" href="https://quera.ir/careers/jobs">
            <i class="briefcase icon"></i> استخدام
        </a>
        <a style="color: #e25252" class=" item" href="https://quera.ir/college/">
            <i class="red graduation cap icon"></i> کالج
        </a>





        
    </div>


        <div class="right menu">
            
    


            
    



    
    <a class="notification-show item" id="top-bar-notification">
        <i class="large icons">
            <i class="alarm icon"></i>
            
                </i></a><i class="large icons"><a class="floating ui red circular tiny label" id="notification-number-label" style="font-style: normal;">۱</a>
            
        </i>
    

    <div class="ui popup transition hidden" id="top-bar-popup">

        
        
        
        
        
        
        
        
        
        

        <div class="ui teal inverted menu" id="notification-menu">
            <div class="breadcrumb item">
                <a target="_blank" rel="noopener" href="https://quera.ir/notifications/" class="section">پیام‌ها</a>
                <i class="left angle icon divider"></i>
            </div>
        </div>
        
        <div class="ui simple container" id="popup-data-container" style="">
            <div class="ui link unstackable items" id="notification-items">
                
                    <a target="_blank" rel="noopener" class="item">
                        <div class="ui mini circular image">
                            <i class="circular alarm large inverted red icon"></i>
                        </div>
                        <div class="content">
                            <div class="tiny header">اضافه شدن ایموجی به فرصت‌های شغلی</div>
                            <div class="description">از این پس می‌توانید با استفاده از ایموجی در صفحه‌ی هر فرصت شغلی، احساستان را راجع به آن با سایر توسعه‌دهندگان به اشتراک بگذارید!</div>
                        </div>
                    </a>
                    <div class="ui divider"></div>
                
            </div>

            <div class="ui simple center aligned container" id="see-all-notifications-button">
                <a target="_blank" rel="noopener" href="https://quera.ir/notifications/" class="ui red mini button">لیست کامل پیام‌ها</a>
            </div>
        </div>
    

    </div>


<script>
    document.addEventListener('DOMContentLoaded', function () {
        $('.menu .notification-show').popup({
            inline: true,
            hoverable: false,
            position: 'bottom right',
            delay: {
                show: 300,
                hide: 700
            },
            setFluidWidth: false,
            'on': 'click',
            onUnplaceable: function ($module) {
                window.location.href = "/notifications/";
                
            },
            onVisible: function ($module) {

                $.ajax({
                    type: 'POST',
                    url: quera_urls['notification:mark_as_read']()
                }).done(function (response) {
                    
                    if (response.success){
                        $('#notification-number-label').hide();
                    }
                }).fail(function (jqXHR, textStatus, errorThrown) {
                    $('#notification-number-label').show();
                    new Noty({
                        text: t('Mark notifications as read failed.'),
                        type: 'error'
                    }).show();
                }).always(function () {

                });
            }
        });
    });
</script>


    <div class="ui dropdown qu-dropdown item hide-in-mobile" tabindex="0">
        <img id="top-avatar" width="40" height="40" src="./UNIX_shell_files/b1faef80465b16e66c2f1cf68fc27f89.jpg">
        <i class="dropdown icon"></i>
        <div class="menu" id="top_bar_dropdown" tabindex="-1">
            
<a class="item" href="https://quera.ir/profile/hashemi_kimia">
    <i class="user icon"></i> کیمیا هاشمی
</a>
<a class="item" href="https://quera.ir/accounts/settings/personal/">
    <i class="settings icon"></i> تنظیمات
</a>





<a class="item logout-link"><i class="sign out icon"></i>خروج</a>

        </div>
    </div>

    <form method="post" action="https://quera.ir/accounts/logout/" id="logoutForm"><input type="hidden" name="csrfmiddlewaretoken" value="50Yk5BEHkhZwV7wUf2FuELePrR2v4gef2if2pFmrwY0mrTzDlbNrnrDHcc6ZICKg"></form>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            $('.logout-link').click(function () {
                $('#logoutForm').submit();
            });
        });
    </script>


            
                <a class="icon item show-in-mobile" id="mobile-menu-toggle">
                    <i class="large sidebar icon"></i>
                </a>
            
        </div>
    </div>
</div>

<div class="ui segments show-in-mobile" id="mobile-menu">
    
    <div class="ui padding-less segment">
        <div class="ui large vertical fluid menu">
            
            <a class="item" href="https://quera.ir/overview/">کلاس‌ها</a>
            <a class="item" href="https://quera.ir/problemset/contest">سؤالات</a>
            <a class="item" href="https://quera.ir/contest/">مسابقات</a>
            <a class="item" href="https://quera.ir/careers/jobs">فرصت‌های شغلی</a>
            <a class="item" href="https://quera.ir/college/">Quera College</a>
            
<a class="item" href="https://quera.ir/profile/hashemi_kimia">
    <i class="user icon"></i> کیمیا هاشمی
</a>
<a class="item" href="https://quera.ir/accounts/settings/personal/">
    <i class="settings icon"></i> تنظیمات
</a>





<a class="item logout-link"><i class="sign out icon"></i>خروج</a>

        </div>
    </div>

</div>



    
    

    
        <nav class="ui borderless menu" id="nav-bar">
            <div class="breadcrumb item">
                
    
                    <a href="https://quera.ir/" class="section">خانه</a>
                
    <i class="left angle icon divider"></i>
    
        
            <a href="https://quera.ir/overview/" class="section">کلاس‌ها</a>
        
        <i class="left angle icon divider"></i>
        
            
                <a href="https://quera.ir/course/4009/" style="font-weight: bold; font-size: 1.1em" title="اصول سیستم‌های عامل" class="section">اصول سیستم‌های عامل</a>
            
            <i class="left angle icon divider"></i>
        
    
    <a href="https://quera.ir/course/assignments/11508/problems" title="پیاده‌سازی پوسته UNIX" class="section">پیاده‌سازی پوسته UNIX</a>
    
    
        <i class="left angle icon divider"></i>
        <div class="section">ارسال‌های نهایی</div>
    

            </div>
            
    
        <div class="right menu">
            ‍
            <div class="item">
                <div id="timer"></div>
                <span class="ui mini red label extra-time" style="display: none">زمان<br>اضافه</span>
            </div>
            
            
                <div class="ui dropdown qu-dropdown item" tabindex="0">
                    <div class="text" title="پیاده‌سازی پوسته UNIX">پیاده‌سازی پوسته UNIX</div>
                    <i class="dropdown icon"></i>

                    <div class="menu" tabindex="-1">
                        
                            <a href="https://quera.ir/course/assignments/13418/problems" class=" item" data-text="همگام‌سازی فرایند‌ها" title="همگام‌سازی فرایند‌ها">
                                همگام‌سازی فرایند‌ها
                            </a>
                        
                            <a href="https://quera.ir/course/assignments/12930/problems" class=" item" data-text="اعتبار‌سنجی سودوکو" title="اعتبار‌سنجی سودوکو">
                                اعتبار‌سنجی سودوکو
                            </a>
                        
                            <a href="https://quera.ir/course/assignments/11508/problems" class="active item" data-text="پیاده‌سازی پوسته UNIX" title="پیاده‌سازی پوسته UNIX">
                                پیاده‌سازی پوسته UNIX
                            </a>
                        
                            <a href="https://quera.ir/course/assignments/11161/problems" class=" item" data-text="پروژه فصل 2" title="پروژه فصل 2">
                                پروژه فصل 2
                            </a>
                        
                    </div>
                </div>
            
        </div>
    

        </nav>
    
    <div dir="ltr" id="qu-hj"></div>

    <script type="text/javascript" charset="utf-8">
        quera = {};
        quera.finish_time = moment('0');
        quera.extra_time = moment.duration(0, 'seconds');
        quera.server_first_time = '2020-06-08T19:52:49.460185+04:30';
        quera.offset = moment('2020-06-08T19:52:49.460258+04:30').diff(moment());
        quera.time = moment();
        quera.times = [];
        

        
    </script>
    <div id="body_container">
        
    

    
        <div id="a-sidebar-menu-wrapper">
            <div class="ui sticky large vertical fluid menu" id="a-sidebar-menu">
                


    <a class="item" href="https://quera.ir/course/assignments/11508/problems">سؤالات</a>


    <a href="https://quera.ir/course/assignments/11508/submissions/all" class="item ">
        همه ارسال‌ها</a>
    <a href="https://quera.ir/course/assignments/11508/submissions/final" class="item active">
        ارسال‌های نهایی</a>












            </div>
        </div>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                $('#a-sidebar-menu').sticky({context: '#a-container'});
            });
        </script>
    

    <div id="a-container">
        <div class="mw-1130">
            

            
    <form method="get" class="ui form">
        <div class="three fields">
            
            <div class="field">
                <div class="ui search selection dropdown qu-dropdown"><select id="problem" name="problem" title="فیلتر مسئله">
                    <option value="all">همه مسائل</option>
                    
                        
                            <option value="38848">UNIX Shell</option>
                        
                    
                </select><i class="dropdown icon"></i><input class="search" autocomplete="off" tabindex="0"><div class="text">همه مسائل</div><div class="menu" tabindex="-1"><div class="item active selected" data-value="all">همه مسائل</div><div class="item" data-value="38848">UNIX Shell</div></div></div>
            </div>
            <div class="field">
                <div class="ui search selection dropdown qu-dropdown"><select id="filetype" name="filetype" title="فیلتر نوع فایل">
                    <option value="all">همه انواع فایل</option>
                    
                        <option value="C">C</option>
                    
                </select><i class="dropdown icon"></i><input class="search" autocomplete="off" tabindex="0"><div class="text">همه انواع فایل</div><div class="menu" tabindex="-1"><div class="item active selected" data-value="all">همه انواع فایل</div><div class="item" data-value="C">C</div></div></div>
            </div>
            <div class="field">
                <button class="ui button"><i class="ui filter icon"></i>فیلتر</button>
            </div>
        </div>
    </form>

    
        <b class="show-in-mobile">
    برای مشاهد کامل جدول به
    <i class="right small arrow icon"></i>
    طرفین
    <i class="left small arrow icon"></i>
    بکشید.
</b>

<div style="overflow-x: auto; margin-top: 10px">

    <table class="ui selectable unstackable center aligned small table">
        <thead>
        <tr>
            
            <th rowspan="2">مسئله</th>
            <th rowspan="2">زمان ارسال</th>
            <th rowspan="2">ضریب نمره<br><span class="qu-tiny">(تأخیر)</span></th>
            <th colspan="2">نمره داوری</th>
            <th rowspan="2">نمره استاد</th>
            <th rowspan="2">نوع فایل</th>
            <th rowspan="2">وضعیت</th>
            <th rowspan="2">فایل</th>
            
            
        </tr>
        <tr>
            <th>نمره خام</th>
            <th>نمره با تاخیر</th>
        </tr>

        </thead>
        <tbody>
        
            
                <tr data-submission_id="2869336" data-problem_id="38848" data-user_id="78262">
                    
                    <td>
                        <a href="https://quera.ir/course/assignments/11508/problems/38848">
                            UNIX Shell
                        </a>
                    </td>
                    <td>۲۲ آذر ۱۳۹۸ ساعت ۱۸:۳۵</td>
                    <td>۱۰۰٪<br>
                        <span class="humanize_duration delay qu-tiny" data-duration="0"></span>
                    </td>
                    <td>
                        
                            ...
                        
                    </td>
                    <td>
                        
                            ...
                        
                    </td>
                    
                        <td>
                            
                                ...
                            
                        </td>
                    
                    <td dir="auto">C</td>
                    <td>
                        
                            <div class="ui teal label">آپلود شد</div>
                        
                    </td>
                    <td>
                        <a class="ui show-submission-info button orange icon" data-action="get_code">
                            <i class="code large icon"></i>
                        </a>
                    </td>
                    
                    
                </tr>
            
        
        </tbody>
        
    </table>

</div>


        
    

            
                <script>
                    var onFinishCallback = function () {
                    };
                </script>
            
            <script>
                document.addEventListener('DOMContentLoaded', function () {
                    $('.menu-sidebar').click(function () {
                        $('.ui.sidebar').sidebar('toggle');
                    });
                });

                document.addEventListener('DOMContentLoaded', function () {
                    var server_now = new Date('2020-06-08T15:22:49+00:00');
                    var finish_time = new Date('2019-12-13T20:29:59+00:00');
                    var extra_time = 0;
                    var hard_finish_time = new Date(finish_time.getTime() + (extra_time * 1000));
                    var flag = false;

                    function onFinish(component) {
                        onFinishCallback();
                        
                        if (flag || (extra_time < 2)) {
                            return;
                        }
                        flag = true;
                        component.time = hard_finish_time;
                        component.tick();
                        $('.extra-time').css('display', 'block');
                    }

                    if (server_now < finish_time) {
                        if (finish_time - server_now < 157766400000) {  
                            qtimer(document.getElementById('timer'), finish_time, {
                                server_time: server_now,
                                onFinish: onFinish
                            });
                        }
                    } else if (server_now < hard_finish_time) {
                        $('.extra-time').css('display', 'block');
                        qtimer(document.getElementById('timer'), hard_finish_time, {
                            server_time: server_now
                        });
                    }
                });
            </script>
        </div>
    </div>

    </div>
    
        

<div class="ui fitted divider"></div>  

<footer class="ui  vertical segment" id="footer">
    <div class="container">
        <div class="ft-logo">
            <a href="https://quera.ir/">
                <img height="100" src="./UNIX_shell_files/logo.0-ea17c1283433.svg" alt="Quera" data-src="https://cdn.quera.ir/images/logo/logo.0-ea17c1283433.svg">
            </a>
        </div>
        <div class="ft-links">
            <div class="group">
                <div class="column">
                    <h4 class="ui  header">محصولات</h4>
                    <div class="ui  link list">
                        <a href="https://quera.ir/college/" class="item">آموزش برنامه‌نویسی</a>
                        <a href="https://quera.ir/careers/jobs" class="item">آگهی‌های استخدام</a>
                        <a href="https://quera.ir/problemset/contest" class="item">
                            سؤالات برنامه‌نویسی
                        </a>
                        <a href="https://quera.ir/contest/" class="item">مسابقات</a>
                        <a href="https://quera.ir/overview/" class="item">کلاس‌ها</a>
                        <a href="https://quera.ir/careers/" class="item">پلتفرم استخدامی</a>
                    </div>
                </div>
                <div class="column">
                    <h4 class="ui  header">منابع</h4>
                    <div class="ui  link list">
                        <a target="_blank" rel="noopener" href="https://mag.quera.ir/" class="item">
                            کوئرامگ توسعه‌دهندگان
                        </a>
                        <a target="_blank" rel="noopener" href="https://virgool.io/quera-magazine" class="item">
                            کوئرامگ شرکت‌ها
                        </a>
                        <a target="_blank" rel="noopener" href="https://quera.ir/blog/" class="item">
                            اخبار مسابقات و دوره‌ها
                        </a>
                        <a target="_blank" rel="noopener" href="https://quera.ir/programming-stats/" class="item">
                            آمار‌های دنیای برنامه‌نویسی
                        </a>
                        
                        
                        
                        <a href="https://quera.ir/forms/xifMJX/" class="item">عضویت در خبرنامه</a>
                    </div>
                </div>
            </div>
            <div class="group">
                <div class="column">
                    <h4 class="ui  header">رویداد‌ها</h4>
                    <div class="ui  link list">
                        <a target="_blank" rel="noopener" href="https://quera.ir/codeup/" class="item">هکاتون کدآپ</a>
                        <a target="_blank" rel="noopener" href="https://codecup.ir/" class="item">کدکاپ</a>
                        
                        <a target="_blank" rel="noopener" href="https://quera.ir/traceway/" class="item">تریس‌وی</a>
                        <a target="_blank" rel="noopener" href="https://quera.ir/%D9%86%D9%85%D8%A7%DB%8C%D8%B4%DA%AF%D8%A7%D9%87-%D8%A2%D9%86%D9%84%D8%A7%DB%8C%D9%86-%DA%A9%D8%A7%D8%B1%D8%A2%D9%85%D9%88%D8%B2%DB%8C-%DA%A9%D8%A7%D8%B1%D8%A2%D9%85%D9%88%D8%B2%D8%B4%D9%88/" class="item">کارآموزشو</a>


                    </div>
                </div>
                <div class="column">
                    <h4 class="ui  header">با کوئرا</h4>
                    <div class="ui  link list">
                        <a href="https://quera.ir/careers/company/quera/" class="item">همکاری با ما</a>
                        <a href="https://quera.ir/contact" class="item">تماس با ما</a>
                        <a href="https://quera.ir/about" class="item">درباره ما</a>
                        <a href="https://quera.ir/terms" class="item">قوانین و مقررات</a>
                        <a href="https://quera.ir/careers/contest" class="item">حمایت از مسابقات</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="ft-last">
            <div class="ft-external">
                <div style="cursor:pointer; margin: 0 -6px">
                    <img width="90" id="oeuknbqesizpwlaonbqe" onclick="window.open(&quot;https://logo.samandehi.ir/Verify.aspx?id=82942&amp;p=mcsiuiwkpfvlaodsuiwk&quot;, &quot;Popup&quot;,&quot;toolbar=no, scrollbars=no, location=no, statusbar=no, menubar=no, resizable=0, width=450, height=630, top=30&quot;)" alt="" src="./UNIX_shell_files/logo.aspx">
                </div>
                <a style="margin: 0 -6px 0 -2px" target="_blank" rel="noopener nofollow" href="https://trustseal.enamad.ir/?id=57607&amp;Code=CW3qekxfHABBy5yr1YA3">
                    <img width="80" src="./UNIX_shell_files/logo(1).aspx" data-src="https://trustseal.enamad.ir/logo.aspx?id=57607&amp;Code=CW3qekxfHABBy5yr1YA3" alt="" id="CW3qekxfHABBy5yr1YA3">
                </a>
                <a target="_blank" rel="noopener" href="https://parspack.com/?utm_source=quera&amp;utm_medium=footer">
                    <img width="55" class="qu-popup" data-content="کوئرا توسط سرورهای اختصاصی پارس پک پشتیبانی می‌شود." data-position="top center" src="./UNIX_shell_files/parspack-vert.0-8d35cad5f532.png" data-src="https://cdn.quera.ir/images/parspack-vert.0-8d35cad5f532.png">
                </a>
            </div>
            <div class="ft-social">
                <a target="_blank" rel="noopener" href="https://github.com/QueraTeam">
                    <i class="github icon"></i></a>
                <a target="_blank" rel="noopener" href="https://telegram.me/quera_ir">
                    <i class="telegram icon"></i></a>
                <a target="_blank" rel="noopener" href="https://twitter.com/quera_ir">
                    <i class="twitter icon"></i></a>
                <a target="_blank" rel="noopener" href="https://instagram.com/quera.ir">
                    <i class="instagram icon"></i></a>
                <a target="_blank" rel="noopener" href="https://www.linkedin.com/company/quera">
                    <i class="linkedin icon"></i></a>
            </div>
            <div class="ft-copyright">
                ساخته‌شده با افتخار در ایران
                | ۱۳۹۴ - ۱۳۹۹
            </div>
        </div>
    </div>
</footer>

    
</div>



<script type="text/javascript" id="" src="./UNIX_shell_files/retargeting.js.download"></script><script type="text/javascript" src="./UNIX_shell_files/quera_timer.0-85ff3ce2f293.js.download"></script>



<div style="display: none; visibility: hidden;"><script>!function(c,a,b){c.yektanetAnalyticsObject=b;c[b]=c[b]||function(){c[b].q.push(arguments)};c[b].q=c[b].q||[];var d=new Date;d=d.getFullYear().toString()+"0"+d.getMonth()+"0"+d.getDate()+"0"+d.getHours();var e=a.getElementsByTagName("script")[0];a=a.createElement("script");a.id="ua-script-yn-3147-adv";a.dataset.analyticsobject=b;a.async=1;a.type="text/javascript";a.src="https://cdn.yektanet.com/rg_woebegone/scripts_v2/yn-3147-adv/rg.complete.js?v\x3d"+d;e.parentNode.insertBefore(a,e)}(window,document,
"yektanet");</script></div><iframe src="./UNIX_shell_files/fingerprint.html" style="display: none;"></iframe><div class="ui dimmer modals page transition visible active" style="display: flex !important;"><div class="ui modal view_code transition visible active scrolling" style="text-align: left; display: block !important;">
            <div class="modal_content" dir="ltr"><p><code>shell.c | submission id: 2869336</code></p><div class="code-toolbar"><pre id="submission-code" class="line-numbers language-c"><code class=" language-c" file_name="shell.c" file_type="9"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/stat.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;errno.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;signal.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;limits.h&gt;</span></span>
<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h&gt;</span></span>

<span class="token macro property">#<span class="token directive keyword">define</span> MAX_LINE 100 </span><span class="token comment">/*The maximum length command*/</span>
<span class="token macro property">#<span class="token directive keyword">define</span> HISTORY_SIZE 21</span>

<span class="token keyword">void</span> <span class="token function">add_history</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">char</span> <span class="token operator">*</span>hist<span class="token punctuation">[</span>HISTORY_SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> hist_count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>


<span class="token keyword">void</span> other_features <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> string<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">int</span> len <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> <span class="token operator">*</span>s <span class="token operator">=</span> <span class="token function">strdup</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">char</span> <span class="token operator">*</span>args<span class="token punctuation">[</span>MAX_LINE<span class="token operator">/</span><span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">/*The flag to determine whether we have &amp; at the end of the command or not*/</span>
	

	<span class="token keyword">int</span> z<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	
	
	args<span class="token punctuation">[</span>len<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		args<span class="token punctuation">[</span>len<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	len<span class="token operator">--</span><span class="token punctuation">;</span>


	
	<span class="token comment">/*Checking for the &amp;*/</span>	
	<span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token string">"&amp;"</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		len<span class="token operator">--</span><span class="token punctuation">;</span>
		args<span class="token punctuation">[</span>len<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>


	
	<span class="token keyword">int</span> fd_out <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> fd_in <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> pipefd<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>


	<span class="token keyword">while</span><span class="token punctuation">(</span>len<span class="token operator">&gt;=</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span>len<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token string">"&gt;"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>       
		z<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
		fd_out <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> O_CREAT <span class="token operator">|</span> O_WRONLY <span class="token operator">|</span> O_TRUNC<span class="token punctuation">,</span> S_IRUSR <span class="token operator">|</span> S_IWUSR <span class="token operator">|</span> S_IRGRP <span class="token operator">|</span> S_IWGRP <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//printf("\n%d\n",fd_out);</span>
	<span class="token comment">//printf("%s\n" , args[1]);</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>fd_out <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> 
    	<span class="token punctuation">{</span> 
        	<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"open"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
	<span class="token punctuation">}</span>
	args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
	len <span class="token operator">=</span> len <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>
 
	<span class="token punctuation">}</span>


	 <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span>len<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">,</span><span class="token string">"&lt;"</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>        
	
		fd_in <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> O_RDONLY<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>fd_in <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> 
    	<span class="token punctuation">{</span> 
        	<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"open"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  
    	<span class="token punctuation">}</span>
		 z<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
		args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
		len <span class="token operator">=</span> len <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span>  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span>len<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">,</span> <span class="token string">"|"</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">pipe</span><span class="token punctuation">(</span>pipefd<span class="token punctuation">)</span><span class="token punctuation">;</span>
		args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
		len <span class="token operator">=</span> len <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>
		z<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span> <span class="token comment">//User has demanded a commad other than allowed commands</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">break</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>


	<span class="token keyword">int</span> status<span class="token punctuation">;</span>
	<span class="token comment">/*forking the child process*/</span>	
	pid_t pid<span class="token punctuation">;</span> 
	pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
	<span class="token keyword">if</span><span class="token punctuation">(</span>pid <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">//error</span>
	<span class="token punctuation">{</span>       
		<span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">"Fork Failed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">// return 1;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>pid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">//child</span>
	<span class="token punctuation">{</span>

		<span class="token comment">//for &gt;	</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>fd_out <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>      
			<span class="token function">dup2</span><span class="token punctuation">(</span>fd_out<span class="token punctuation">,</span> STDOUT_FILENO<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token punctuation">}</span>

		<span class="token comment">//for &lt;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>fd_in <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>	
			<span class="token function">dup2</span><span class="token punctuation">(</span>fd_in<span class="token punctuation">,</span> STDIN_FILENO<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token punctuation">}</span>
		
		<span class="token comment">//for pipe</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"|"</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token comment">/*if (pipe(fd) == -1) 
			{ 
				fprintf(stderr,"Pipe failed"); 
				return;//return 1; 
			} */</span>

			<span class="token comment">/* fork a child process */</span> 
			pid_t pid2<span class="token punctuation">;</span>
			pid2 <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			
			<span class="token keyword">if</span> <span class="token punctuation">(</span>pid2 <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> 
			<span class="token punctuation">{</span> 
				<span class="token comment">/* error occurred */</span> 
				<span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token constant">stderr</span><span class="token punctuation">,</span> <span class="token string">"Fork Failed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
				<span class="token keyword">return</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			
			<span class="token keyword">if</span><span class="token punctuation">(</span>pid2 <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">//child (the child of the first child)</span>
			<span class="token punctuation">{</span>
				<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"in pipe child"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">dup2</span><span class="token punctuation">(</span>pipefd<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> STDIN_FILENO<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">close</span><span class="token punctuation">(</span>pipefd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				
				<span class="token function">execvp</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span>len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			
			<span class="token keyword">else</span> <span class="token comment">//parent (the first child itself)</span>
			<span class="token punctuation">{</span>
				<span class="token function">dup2</span><span class="token punctuation">(</span>pipefd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> STDOUT_FILENO<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">close</span><span class="token punctuation">(</span>pipefd<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">execvp</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		

		<span class="token function">execvp</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"exepvp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



	<span class="token punctuation">}</span>
	<span class="token keyword">else</span> <span class="token comment">//parent</span>
	<span class="token punctuation">{</span>
		<span class="token function">close</span><span class="token punctuation">(</span>fd_in<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">close</span><span class="token punctuation">(</span>fd_out<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>flag <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>	
			<span class="token function">waitpid</span><span class="token punctuation">(</span>pid<span class="token punctuation">,</span> <span class="token operator">&amp;</span>status<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>	
	<span class="token punctuation">}</span>
	

<span class="token punctuation">}</span>


<span class="token keyword">void</span> <span class="token function">add_history</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> s<span class="token punctuation">)</span>
<span class="token punctuation">{</span>

	<span class="token keyword">if</span><span class="token punctuation">(</span>hist_count <span class="token operator">==</span> HISTORY_SIZE<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">free</span><span class="token punctuation">(</span>hist<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span> <span class="token punctuation">;</span>i<span class="token operator">&lt;</span> hist_count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			hist<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> hist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	hist_count <span class="token operator">--</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
		hist<span class="token punctuation">[</span>hist_count<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">strdup</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
		hist_count<span class="token operator">++</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">get_last20_history</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token comment">//for "history"</span>
<span class="token punctuation">{</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>hist_count <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No recent history!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token punctuation">}</span>


	<span class="token keyword">if</span><span class="token punctuation">(</span>hist_count <span class="token operator">&lt;=</span> HISTORY_SIZE<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span> <span class="token punctuation">;</span> i<span class="token operator">&lt;</span> hist_count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d:   %s\n"</span><span class="token punctuation">,</span>i<span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">,</span>hist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>hist_count <span class="token operator">&gt;</span> HISTORY_SIZE<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span> <span class="token punctuation">;</span> i<span class="token operator">&lt;</span> HISTORY_SIZE<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d:   %s\n"</span><span class="token punctuation">,</span>i<span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">,</span>hist<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>	
	<span class="token function">add_history</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">void</span> <span class="token function">last_history</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>s<span class="token punctuation">)</span><span class="token comment">//for "!!"</span>
<span class="token punctuation">{</span>

	<span class="token keyword">if</span><span class="token punctuation">(</span>hist_count <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">{</span>
		<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No recent history!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">else</span><span class="token punctuation">{</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"The last command was:   %s\n"</span><span class="token punctuation">,</span>hist<span class="token punctuation">[</span>hist_count<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>

	<span class="token function">add_history</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>






<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>



	<span class="token keyword">int</span> should_run <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	size_t s_size <span class="token operator">=</span> MAX_LINE<span class="token punctuation">;</span>
	size_t charecters<span class="token punctuation">;</span>


	<span class="token keyword">char</span><span class="token operator">*</span> s <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token operator">*</span>s_size<span class="token punctuation">)</span><span class="token punctuation">;</span>
 		<span class="token keyword">if</span><span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">{</span>	
		<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"malloc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>	
	<span class="token punctuation">}</span>

	<span class="token comment">//char *s = malloc(s_size*sizeof(char));</span>



	<span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

	<span class="token keyword">while</span><span class="token punctuation">(</span>should_run<span class="token punctuation">)</span>
	<span class="token punctuation">{</span>      
		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"osh &gt;"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		
		<span class="token punctuation">}</span>

		<span class="token comment">//s[2] = '\0';</span>
		charecters <span class="token operator">=</span> <span class="token function">getline</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>s<span class="token punctuation">,</span> <span class="token operator">&amp;</span>s_size<span class="token punctuation">,</span> <span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">//fgets(s,s_size, stdin);</span>

		<span class="token comment">//scanf("%[^\n]", s);</span>

		<span class="token comment">//printf("%zu charecters were read/n",charecters);</span>

		<span class="token keyword">if</span><span class="token punctuation">(</span>charecters <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>       <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"salam"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>errno <span class="token operator">==</span> EINTR<span class="token punctuation">)</span>
			<span class="token punctuation">{</span>
				<span class="token function">clearerr</span><span class="token punctuation">(</span><span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
				<span class="token keyword">continue</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"getline"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">//else {printf("eorrorprintff");}</span>

		flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>


		<span class="token keyword">int</span> s_len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span><span class="token punctuation">(</span>s_len <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token keyword">continue</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	

		s<span class="token punctuation">[</span>s_len<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'\0'</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">"exit"</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>

			<span class="token comment">//flag = 1;</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>	
	
		<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token function">strcmp</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">"!!"</span> <span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token function">last_history</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>s <span class="token punctuation">,</span><span class="token string">"history"</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">{</span>
			<span class="token function">get_last20_history</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token punctuation">}</span>


		<span class="token comment">//else if(s[0] == '!' &amp;&amp; s[1] == '!')</span>

		<span class="token keyword">else</span>
		<span class="token punctuation">{</span>
			<span class="token function">add_history</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">other_features</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token punctuation">}</span>

	
		
	<span class="token function">free</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>	
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>	
		
	
<span class="token punctuation">}</span>







<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><div class="toolbar"><div class="toolbar-item"><span>C</span></div><div class="toolbar-item"><a>Copy</a></div></div></div></div>
        </div></div></body></html>